<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Rock Paper Scissors</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

</head>

<body>
  <script>    
      function game(){
          let playerScore = 0;
          let computerScore = 0;
          let draws = 0;
          for (let i = 0; i < 5; i++) {
              let playerSelection = prompt("Rock, Paper or Scissors?");
              let computerSelection = computerPlay();  
              let score = playRound(playerSelection, computerSelection);
              if (score === "win") {
                  playerScore++;
              } else if (score === "loose") {
                  computerScore++;
              } else if (score === "draw") {
                  draws++;
              }
          }
          if (playerScore > computerScore) {
              alert("You win! You scored ${playerScore}. Computer scored ${computerScore}");
          } else if (playerScore < computerScore) {
              alert("You loose! You scored ${playerScore}. Computer scored ${computerScore}");
          } else {
              alert("It's a draw!");
          }
      }
      function playRound(playerSelection, computerSelection) {
          let score
          switch(playerSelection) {
              case "rock":{
                  if (computerSelection === "rock") {
                      score = "draw";
                  } else if (computerSelection === "paper") {
                      score =  "loose";
                  } else if (computerSelection === "scissors") {
                      score = "win";
                  }
                  break;
              }
              case "paper":{
                  if (computerSelection === "rock") {
                      score = "win";
                  } else if (computerSelection === "paper") {
                      score = "draw";
                  } else if (computerSelection === "scissors") {
                      score = "loose";
                  }
                  break;
              }
              case "scissors":{
                  if (computerSelection === "rock") {
                      score = "loose";
                  } else if (computerSelection === "paper") {
                      score = "win";
                  } else if (computerSelection === "scissors") {
                      score = "draw"
                  }
                  break;
              }
          }
          if (score === "win") {
              alert("You Win");
          } else if (score === "loose") {
              alert("You Loose");
          } else if (score === "draw") {
              alert("It's a Draw");
          } else {
              alert("Invalid input")
          }
          return score;
      }
      function computerPlay() {
        let randomize = Math.floor(Math.random() * (3 - 1 + 1)) + 1;
        if (randomize === 1) {
            return "rock"
        } else if (randomize === 2) {
            return "paper"
        } else if (randomize === 3) {
            return "scissors"
        }
      }
      game();
  </script>
</body>
</html>